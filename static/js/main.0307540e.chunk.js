(this.webpackJsonpmineclearer=this.webpackJsonpmineclearer||[]).push([[0],{15:function(e,t,s){},9:function(e,t,s){"use strict";s.r(t);var n=s(7),i=s(0),l=s(2),o=s(3),r=s(5),c=s(4),a=s(1),u=s.n(a),h=s(8),b=s.n(h);s(15);function d(e){switch(e.value){case 0:return Object(i.jsx)("button",{style:{color:"transparent",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 1:return Object(i.jsx)("button",{style:{color:"blue",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 2:return Object(i.jsx)("button",{style:{color:"green",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 3:return Object(i.jsx)("button",{style:{color:"brown",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 4:return Object(i.jsx)("button",{style:{color:"purple",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 5:return Object(i.jsx)("button",{style:{color:"orange",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 6:return Object(i.jsx)("button",{style:{color:"red",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 7:return Object(i.jsx)("button",{style:{color:"cadetBlue",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 8:return Object(i.jsx)("button",{style:{color:"deepPink",background:"white",borderColor:"gainsboro"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});case 10:return Object(i.jsx)("button",{style:{color:"lime",background:"black"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:"F"});case-50:return Object(i.jsx)("button",{style:{color:"orange",background:"black"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:"X"});case null:return Object(i.jsx)("button",{className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:e.value});default:return Object(i.jsx)("button",{style:{color:"crimson",background:"black"},className:"tile",onClick:e.onClick,onContextMenu:e.onClick,children:"M"})}}var k=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"displayValue",value:function(e,t,s){return this.props.isRevealed&&s&&e>=0?-50:s?10:t?e:null}},{key:"renderTile",value:function(e){var t=this;return Object(i.jsx)(d,{value:this.displayValue(this.props.tiles[e],this.props.isClicked[e],this.props.isFlagged[e]),onClick:function(s){return t.props.onClick(e,s)}})}},{key:"createRows",value:function(e,t){for(var s=[],n=0;n<e;n++)s[n]=Object(i.jsxs)("div",{className:"field-row",children:[" ",this.createColumns(n,t)]},n);return s}},{key:"createColumns",value:function(e,t){for(var s=[],n=0;n<t;n++)s[n]=this.renderTile(n+e*t);return s}},{key:"render",value:function(){var e=this.props.rows,t=this.props.columns;return Object(i.jsx)("div",{children:this.createRows(e,t)})}}]),s}(u.a.Component),j=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={tiles:p(Array(n.props.rows*n.props.columns).fill(0),n.props.mines,n.props.rows,n.props.columns),isClicked:Array(n.props.rows*n.props.columns).fill(null),isFlagged:Array(n.props.rows*n.props.columns).fill(null),isFinished:null,flagging:!1,tilesLeft:n.props.rows*n.props.columns,isRevealed:!1},n}return Object(o.a)(s,[{key:"handleClick",value:function(e,t){var s=this.state.tiles.slice(),n=this.state.flagging,i=this.state.isClicked.slice(),l=this.state.isFinished,o=this.state.isFlagged.slice(),r=this.state.tilesLeft;if(3===t.nativeEvent.which){if(t.preventDefault(),i[e]||l)return;o[e]?o[e]=!1:o[e]=!0,this.setState({isFlagged:o})}else{if(i[e]||l)return;if(n)o[e]?o[e]=!1:o[e]=!0,this.setState({isFlagged:o});else if(!o[e]){i[e]=!0,0===s[e]&&(i=m(e,this.props.rows,this.props.columns,s,i));for(var c=0,a=0;a<i.length;a++)i[a]&&c++;(r=this.props.rows*this.props.columns-c)===this.props.mines&&(l=1),s[e]<0&&(l=-1),this.setState({isClicked:i,isFinished:l,tilesLeft:r})}}}},{key:"flagClick",value:function(){var e=this.state.flagging;e=!e,this.setState({flagging:e})}},{key:"quickClick",value:function(){this.setState({tiles:p(Array(this.props.rows*this.props.columns).fill(0),this.props.mines,this.props.rows,this.props.columns),isClicked:Array(this.props.rows*this.props.columns).fill(null),isFlagged:Array(this.props.rows*this.props.columns).fill(null),isFinished:null,flagging:!1,tilesLeft:this.props.rows*this.props.columns,isRevealed:!1})}},{key:"revealClick",value:function(){for(var e=this.state.tiles,t=this.state.isClicked.slice(),s=0;s<e.length;s++)e[s]<0&&(t[s]=!0);this.setState({isClicked:t,isFinished:-1,isRevealed:!0})}},{key:"render",value:function(){var e=this,t=this.state.tiles,s=this.state.isClicked,n=this.props.rows,l=this.props.columns,o=this.state.isFlagged,r=this.state.flagging,c=this.state.isFinished,a=this.state.tilesLeft,u=this.props.mines,h=this.state.isRevealed,b="";b=r?"Flagging is [On]":"Flagging is [Off]";var d="";return d=c>0?"Only mines are left, You win.  Congratulations.":c<0?"You found a mine, You lost.  Better luck next time.":"The game is ongoing. "+(a-u)+" tiles are left without mines.",Object(i.jsxs)("div",{children:[d,Object(i.jsx)(k,{tiles:t,isClicked:s,onClick:function(t,s){return e.handleClick(t,s)},rows:n,columns:l,isFlagged:o,isRevealed:h}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{children:b}),Object(i.jsx)("button",{onClick:function(){e.flagClick()},children:" Flag Toggle "}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:function(){e.revealClick()},children:" Reveal Results "}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{children:"Quick Remake will restart with the same board size and mine total."}),Object(i.jsx)("button",{onClick:function(){e.quickClick()},children:" Quick Remake "})]})}}]),s}(u.a.Component),C=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this,e)).handleChange=function(e){var t=e.target.name,s=e.target.value;i.setState(Object(n.a)({},t,Number(s)))},i.handleSubmit=function(e){e.preventDefault();var t=i.state.rows,s=i.state.columns;i.state.mines>t*s?alert("cannot have more mines than tiles to put them on."):i.setState({isInitialized:!0})},i.state={isInitialized:null,rows:null,columns:null,mines:null,doubleCheck:!1,quickRestart:!1},i}return Object(o.a)(s,[{key:"restartClick",value:function(){this.setState({doubleCheck:!0})}},{key:"confirmClick",value:function(e){e?this.setState({rows:null,columns:null,mines:null,isInitialized:!1,doubleCheck:!1}):this.setState({doubleCheck:!1})}},{key:"render",value:function(){var e,t=this,s=this.state.isInitialized,n=this.state.rows,l=this.state.columns,o=this.state.mines;return e=this.state.doubleCheck?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Really Remake Game?"}),Object(i.jsx)("button",{onClick:function(){t.confirmClick(!0)},children:" Yes "}),Object(i.jsx)("button",{onClick:function(){t.confirmClick(!1)},children:" No "})]}):Object(i.jsx)("button",{onClick:function(){t.restartClick()},children:" Remake Game "}),s?Object(i.jsxs)("div",{className:"mineclearer",children:[Object(i.jsx)("h1",{children:"Mineclearer"}),Object(i.jsx)(j,{rows:n,columns:l,mines:o}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),e,Object(i.jsx)("br",{})]}):Object(i.jsxs)("form",{className:"initializeForm",onSubmit:this.handleSubmit,children:[Object(i.jsxs)("label",{children:["Desired Rows:",Object(i.jsx)("input",{type:"number",name:"rows",onChange:this.handleChange,min:"1",max:"50",required:!0}),Object(i.jsx)("br",{})]}),Object(i.jsxs)("label",{children:["Desired Columns:",Object(i.jsx)("input",{type:"number",name:"columns",onChange:this.handleChange,min:"1",max:"50",required:!0}),Object(i.jsx)("br",{})]}),Object(i.jsxs)("label",{children:["Desired Mines:",Object(i.jsx)("input",{type:"number",name:"mines",onChange:this.handleChange,min:"1",required:!0}),Object(i.jsx)("br",{})]}),Object(i.jsx)("input",{type:"submit"})]})}}]),s}(u.a.Component);function p(e,t,s,n){for(var i=!0,l=!0,o=!0,r=!0,c=e.length,a=e.length,u=t,h=0;h<c;h++)Math.floor(Math.random()*a)+1<=u&&(r=!0,o=!0,l=!0,i=!0,e[h]=-20,u-=1,h%n!==0&&(r=!1),h%n!==n-1&&(o=!1),h>=n&&(l=!1),h<s*n-n&&(i=!1),r||(e[h-1]++,l||e[h-1-n]++,i||e[h-1+n]++),o||(e[h+1]++,l||e[h+1-n]++,i||e[h+1+n]++),l||e[h-n]++,i||e[h+n]++),a-=1;return e}function m(e,t,s,n,i,l){var o=!0,r=!0,c=!0,a=!0,u=null,h=[];if(Number(l)){if(++l>=1e3)return i}else l=1;e%s!==0&&(a=!1),e%s!==s-1&&(c=!1),e>=s&&(r=!1),e<t*s-s&&(o=!1),u=e-1,a||(i[u]||(h.push(u),i[u]=!0),u=e-1-s,r||i[u]||(h.push(u),i[u]=!0),u=e-1+s,o||i[u]||(h.push(u),i[u]=!0)),u=e+1,c||(i[u]||(h.push(u),i[u]=!0),u=e+1-s,r||i[u]||(h.push(u),i[u]=!0),u=e+1+s,o||i[u]||(h.push(u),i[u]=!0)),u=e-s,r||i[u]||(h.push(u),i[u]=!0),u=e+s,o||i[u]||(h.push(u),i[u]=!0);for(var b=0;b<h.length;b++)0===n[h[b]]&&(i=m(h[b],t,s,n,i,l));return i}b.a.render(Object(i.jsx)(C,{}),document.getElementById("root"))}},[[9,1,2]]]);
//# sourceMappingURL=main.0307540e.chunk.js.map